{% extends 'base.html.twig' %}

{% block title %}Cr√©er un Road Trip{% endblock %}

{% block stylesheets %}
{{ parent() }}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body {
        background-color: #f7f7f7;
    }

    .form-container {
        max-width: 800px;
        margin: 30px auto;
        padding: 30px;
        background-color: #ffffff;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .form-title {
        font-size: 28px;
        font-weight: bold;
        text-align: center;
        margin-bottom: 20px;
        color: #333;
    }

    .form-control.is-invalid {
        border-color: #e53e3e;
    }

    .form-error {
        color: #e53e3e;
        font-size: 14px;
    }

    .image-preview {
        display: block;
        width: 100px;
        height: 100px;
        margin: 15px auto;
        background-color: #f2f2f2;
        border: 1px dashed #ddd;
        border-radius: 6px;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #aaa;
        font-size: 24px;
    }

    .btn-publish {
        background-color: #d85c49;
        color: #ffffff;
        margin-top: 5%;
    }

    .btn-publish:hover {
        background-color: #c54e3d;
    }

    .btn-back {
        background-color: #f2f2f2;
        color: #333;
        margin-top: 5%;
    }

    .btn-back:hover {
        background-color: #e7e7e7;
    }

    .add-step-btn {
        background-color: #d85c49;
        color: #ffffff;
        font-weight: bold;
    }

    .add-step-btn:hover {
        background-color: #c54e3d;
    }
</style>
{% endblock %}

{% block body %}
<div class="form-container">
    <h1 class="form-title">Cr√©er un Road Trip</h1>

    {{ form_start(form) }}

    <div class="mb-3">
        {{ form_label(form.titre, 'Nom du Road Trip', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(form.titre, {'attr': {'class': 'form-control'}}) }}
        {% if form_errors(form.titre) %}
            <div class="form-error">{{ form_errors(form.titre) }}</div>
        {% endif %}
    </div>

    <div class="mb-3">
        {{ form_label(form.description, 'Description', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(form.description, {'attr': {'class': 'form-control'}}) }}
        {% if form_errors(form.description) %}
            <div class="form-error">{{ form_errors(form.description) }}</div>
        {% endif %}
    </div>

    <div class="mb-3">
        {{ form_label(form.depart_date, 'Date de d√©part', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(form.depart_date, {'attr': {'class': 'form-control'}}) }}
        {% if form_errors(form.depart_date) %}
            <div class="form-error">{{ form_errors(form.depart_date) }}</div>
        {% endif %}
    </div>

    <div class="mb-3">
        {{ form_label(form.arriver_date, 'Date d\'arriv√©e', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(form.arriver_date, {'attr': {'class': 'form-control'}}) }}
        {% if form_errors(form.arriver_date) %}
            <div class="form-error">{{ form_errors(form.arriver_date) }}</div>
        {% endif %}
    </div>

    

    <div class="mb-3">
        {{ form_label(form.image, 'Choisissez une image de couverture pour votre Road Trip', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(form.image, {'attr': {'class': 'form-control'}}) }}
        {% if form_errors(form.image) %}
            <div class="form-error">{{ form_errors(form.image) }}</div>
        {% endif %}
        <div class="image-preview">üì∑</div>
    </div>

    <div class="row">
        <div class="col-md-6">
            {{ form_label(form.depart_address, 'Adresse de D√©part', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(form.depart_address, {'attr': {'class': 'form-control'}}) }}
            {% if form_errors(form.depart_address) %}
                <div class="form-error">{{ form_errors(form.depart_address) }}</div>
            {% endif %}
        </div>
        <div class="col-md-6">
            {{ form_label(form.arrive_address, 'Adresse d\'arriv√©e', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(form.arrive_address, {'attr': {'class': 'form-control'}}) }}
            {% if form_errors(form.arrive_address) %}
                <div class="form-error">{{ form_errors(form.arrive_address) }}</div>
            {% endif %}
        </div>
    </div>

    <div class="mb-3">
        {{ form_label(form.vehicle, 'V√©hicule', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(form.vehicle, {'attr': {'class': 'form-select'}}) }}
        {% if form_errors(form.vehicle) %}
            <div class="form-error">{{ form_errors(form.vehicle) }}</div>
        {% endif %}
    </div>

    <div class="mb-3 mt-4">
        <button type="button" class="btn add-step-btn w-100">Ajouter une √©tape</button>
    </div>
    <div class="mb-3">
        {{ form_label(form.description_supplementaire, 'Description suppl√©mentaire', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(form.description_supplementaire, {'attr': {'class': 'form-control'}}) }}
        {% if form_errors(form.description_supplementaire) %}
            <div class="form-error">{{ form_errors(form.description_supplementaire) }}</div>
        {% endif %}
    </div>

    <div class="mb-3">
        {{ form_label(form.image_supplementaire, 'Image suppl√©mentaire', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(form.image_supplementaire, {'attr': {'class': 'form-control'}}) }}
        {% if form_errors(form.image_supplementaire) %}
            <div class="form-error">{{ form_errors(form.image_supplementaire) }}</div>
        {% endif %}
    </div>
    <div class="d-flex justify-content-between">
        <a href="{{ path('app_dashboard_roadtrip_list') }}" class="btn btn-back">Retour</a>
        <button type="submit" class="btn btn-publish">Publier</button>
    </div>
    {{ form_end(form) }}
    
</div>
{% endblock %}